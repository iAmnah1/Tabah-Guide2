
// Initialize the main map
function initMainMap() {
    const map = L.map('map').setView([24.467, 39.611], 13); // ???? ??????? (??????? ???????)

    // ????? ?????? ???????? ?? OpenStreetMap
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    // ????? ??????? ???????? ?? Markers
    const landmarks = [
        {
            name: "Masjid Al-Nabawi",
            lat: 24.467,
            lng: 39.611,
            description: "The Prophet's Mosque is one of the holiest sites in Islam."
        },
        {
            name: "Quba Mosque",
            lat: 24.437,
            lng: 39.630,
            description: "The Quba Mosque is the first mosque built by Prophet Muhammad (PBUH)."
        },
        {
            name: "Uhud Mountain",
            lat: 24.504,
            lng: 39.569,
            description: "The Uhud Mountain is historically significant for the Battle of Uhud."
        }
    ];

    // ????? ?? ???? ?????? ??? ???????
    landmarks.forEach(landmark => {
        const marker = L.marker([landmark.lat, landmark.lng]).addTo(map);
        marker.bindPopup(`<b>${landmark.name}</b><br>${landmark.description}`).openPopup();
    });
}

// Initialize the small map for landmarks (e.g., landmark-details.html)
function initLandmarkMap(lat, lng, name, description) {
    const map = L.map('map').setView([lat, lng], 15);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    L.marker([lat, lng]).addTo(map)
        .bindPopup(`<b>${name}</b><br>${description}`)
        .openPopup();
}

// ??????? ?? ??????? (??? ????? ?????)
document.addEventListener('DOMContentLoaded', function () {
    const bookingForm = document.querySelector("form");

    if (bookingForm) {
        bookingForm.addEventListener("submit", function (event) {
            event.preventDefault(); // ????? ??????? ?????????
            alert("Booking successfully submitted! We look forward to your visit.");
            bookingForm.reset(); // ????? ????? ??????
        });
    }
});

// ?????? ??? ??????? (????? ????? ??? ??????? ??? ??? ????? ?????? ????????? ????)
document.addEventListener('DOMContentLoaded', function () {
    const navLinks = document.querySelectorAll(".btn");

    navLinks.forEach(link => {
        link.addEventListener("click", function (event) {
            console.log(`Navigating to: ${event.target.href}`);
        });
    });
});

// ???? ????? ?????? (???? ???????: ??? ????)
// let isLoggedIn = localStorage.getItem("isLoggedIn") === "true"; // ????? ???? ????? ?????? ?? LocalStorage

// ?????? ????? ??????
function loginUser(email, password) {
    // ???? ???? ?? ??? ?????? ??????
    if (email === "user@example.com" && password === "123456") {
        // isLoggedIn = true; // ????? ???? ????? ??????
        localStorage.setItem("isLoggedIn", "true"); // ????? ???? ????? ??????
        alert("Login successful!");
        window.location.href = "booking.html"; // ????? ???????? ??? ???? ?????
    } else {
        alert("Invalid email or password. Please try again.");
    }
}

// ?????? ?? ????? ?????? ?? ???? ?????
function checkLoginStatus() {
    if (!isLoggedIn) {
        alert("You must log in to book a visit.");
        window.location.href = "login.html"; // ????? ??????? ??? ???? ????? ??????
    }
}

